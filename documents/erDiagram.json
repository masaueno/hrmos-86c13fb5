{
  "key": "erDiagram",
  "value": {
    "mermaid": "erDiagram\n    employees {\n        uuid id PK\n        varchar(20) employee_number UK\n        varchar(50) last_name\n        varchar(50) first_name\n        varchar(100) email UK\n        date hire_date\n        uuid department_id FK\n        uuid position_id FK\n        uuid manager_id FK\n        boolean is_active\n        timestamp_with_time_zone created_at\n        timestamp_with_time_zone updated_at\n    }\n    departments {\n        uuid id PK\n        varchar(100) name UK\n        timestamp_with_time_zone created_at\n        timestamp_with_time_zone updated_at\n    }\n    positions {\n        uuid id PK\n        varchar(100) name UK\n        timestamp_with_time_zone created_at\n        timestamp_with_time_zone updated_at\n    }\n    time_records {\n        uuid id PK\n        uuid employee_id FK\n        varchar(20) record_type\n        timestamp_with_time_zone record_time\n        uuid location_id FK\n        varchar(50) record_method\n        timestamp_with_time_zone created_at\n        timestamp_with_time_zone updated_at\n    }\n    locations {\n        uuid id PK\n        varchar(100) name UK\n        text address\n        timestamp_with_time_zone created_at\n        timestamp_with_time_zone updated_at\n    }\n    leave_requests {\n        uuid id PK\n        uuid employee_id FK\n        uuid leave_type_id FK\n        date start_date\n        date end_date\n        varchar(20) status\n        text reason\n        uuid approver_id FK\n        timestamp_with_time_zone created_at\n        timestamp_with_time_zone updated_at\n    }\n    leave_types {\n        uuid id PK\n        varchar(100) name UK\n        text description\n        timestamp_with_time_zone created_at\n        timestamp_with_time_zone updated_at\n    }\n    shifts {\n        uuid id PK\n        uuid employee_id FK\n        timestamp_with_time_zone start_time\n        timestamp_with_time_zone end_time\n        uuid location_id FK\n        boolean is_confirmed\n        timestamp_with_time_zone created_at\n        timestamp_with_time_zone updated_at\n    }\n    shift_requests {\n        uuid id PK\n        uuid employee_id FK\n        timestamp_with_time_zone preferred_start_time\n        timestamp_with_time_zone preferred_end_time\n        text reason\n        varchar(20) status\n        timestamp_with_time_zone created_at\n        timestamp_with_time_zone updated_at\n    }\n    overtime_alerts {\n        uuid id PK\n        uuid employee_id FK\n        varchar(50) alert_type\n        date alert_date\n        numeric overtime_hours\n        numeric threshold_hours\n        boolean is_resolved\n        timestamp_with_time_zone created_at\n        timestamp_with_time_zone updated_at\n    }\n    employees ||--o{ employees : \"上司-部下関係\"\n    employees ||--o{ time_records : \"勤怠記録\"\n    employees ||--o{ leave_requests : \"休暇申請\"\n    employees ||--o{ shifts : \"シフト割当\"\n    employees ||--o{ shift_requests : \"シフト希望\"\n    employees ||--o{ overtime_alerts : \"残業アラート\"\n    departments ||--o{ employees : \"所属\"\n    positions ||--o{ employees : \"職位\"\n    locations ||--o{ time_records : \"勤怠記録場所\"\n    locations ||--o{ shifts : \"シフト勤務場所\"\n    leave_types ||--o{ leave_requests : \"休暇種類\"\n    employees ||--o{ leave_requests : \"承認者\"\n"
  }
}
